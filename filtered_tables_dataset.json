[
    {
        "user_raw_query": "Find the average time spent on the website by users who clicked on a push notification and completed a survey.",
        "rag_filtered_tables": {
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.6991340905686022
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6856211219542911
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6783895503034789
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6768614851493089
            },
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.6683083771191572
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6655866702075803
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6655742922767575
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.6641052959059446
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.6633025207103801
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.6612694662431068
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6593085717330672
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6566276745983268
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6479018103930098
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6474465114575488
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6462018682420814
            }
        },
        "llm_filtered_tables": "events, customerInfo, orders, transactions_and_payments, campaigns, inventory, products "
    },
    {
        "user_raw_query": "Get the count of wishlist items for each user and sort them in descending order.",
        "rag_filtered_tables": {
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6913700309804094
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6844041567330595
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6773140238114622
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6693049073219299
            },
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.6622720167312649
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6604161262512207
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6545053720474243
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.6527918771741357
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6514252035960445
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.6508036463973744
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.649201235222744
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6469588279724121
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.6465270308570296
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6431588317846567
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6311660377233683
            }
        },
        "llm_filtered_tables": "wishlist, customerInfo, products"
    },
    {
        "user_raw_query": "Find the products in the cart that have a promotional discounted price less than $50, along with the customer's loyalty program tier level and the customer's accumulated loyalty points balance.",
        "rag_filtered_tables": {
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.7445759190139963
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7181200553107343
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.7051181968976254
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7025102376938066
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7007433741620225
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7007384656979533
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6929229267927545
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.6929215145847486
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6927511462269896
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.6915898300776114
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.6910192922915306
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6880808863615875
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6851548519453683
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6843159575085739
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.6828752945139938
            }
        },
        "llm_filtered_tables": "cart, customers_loyalty_program, products, customerInfo"
    },
    {
        "user_raw_query": "Find the number of suppliers for each country of operation, sorted in descending order.",
        "rag_filtered_tables": {
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.7290323159387047
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6865145172630109
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.681326450228076
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6786558830337492
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6670138041695687
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.6624854005864501
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6595381098848021
            },
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.6575357326088264
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.656601130062443
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.6565197510564428
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6506560236606612
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.6498115047643936
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6491515829906342
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6483439979963311
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6476942107768617
            }
        },
        "llm_filtered_tables": "suppliers, customerInfo, orders, products"
    },
    {
        "user_raw_query": "Retrieve the total refund amount and the date when the refund was processed for orders that had events marked as 'Return'.",
        "rag_filtered_tables": {
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6982391892814166
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6847295761108447
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6777461585024238
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6766713068885402
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.666149139311757
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.6634507176384974
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6568437610175479
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6552912181962989
            },
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.6534935442511219
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.6518108248710679
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6500258833185376
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.647687971591954
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6370241615495829
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6359176201722169
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.6234114913238873
            }
        },
        "llm_filtered_tables": "orders, refunds_returns, events, transactions_and_payments, shipping, order_items, customerInfo"
    },
    {
        "user_raw_query": "Find the total number of customers who are eligible for special promotions.",
        "rag_filtered_tables": {
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.7309070389922355
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.7099918127059986
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.6991235613822987
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6969972252845814
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6965679760656328
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.6923601650321635
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6896859818509818
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.6891811715580429
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6880626511667152
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6867512873858993
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6844983916876783
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6829507961527228
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6789683508258088
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6764715927490472
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6740143700846666
            }
        },
        "llm_filtered_tables": "customers_loyalty_program, customerInfo, transactions_and_payments, orders, products, wishlist, refunds_returns, order_items, inventory"
    },
    {
        "user_raw_query": "Find all products that have a standard retail price greater than 200 and an available stock quantity in units greater than 10",
        "rag_filtered_tables": {
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.7404844826893076
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.7381800321012787
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.724240573337198
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7166985149232323
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.711338485638916
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7080766595670602
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.7080562325732855
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6991744070507084
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6945616627837742
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.6869289483704926
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.680859289271748
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6779853721830914
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6772473656310921
            },
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.6708723106720501
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.6625427994940879
            }
        },
        "llm_filtered_tables": "products,inventory"
    },
    {
        "user_raw_query": "List all the customers who have two-factor authentication enabled and their loyalty points",
        "rag_filtered_tables": {
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.7481092068953753
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.7010029554367115
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6927298307418872
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6887231078363467
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6834291408402252
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6819977557063799
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6807288312043153
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.6800035619731472
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6791480970890477
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.6791089570787887
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.675115266428558
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6720604896545458
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6695412594353414
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6691649753353026
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6657330194552659
            }
        },
        "llm_filtered_tables": "customerInfo,customers_loyalty_program"
    },
    {
        "user_raw_query": "What is the average total transaction amount for orders with a total amount greater than $1000, and what is the average number of loyalty points earned for these transactions, considering only customers who have participated in the exclusive beta testing program and have a loyalty membership unique identifier greater than 5000, and have made a payment using the same billing and shipping address, and have not had any chargeback requests, and their transaction status is 'completed', and the transaction date and time is within the last 6 months?",
        "rag_filtered_tables": {
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.7608317110939715
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.7457830683653794
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.72434418877863
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7225176426747323
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7124173216571134
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.7090864354916665
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.7040599517715076
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7038311958313188
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.703155809076583
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.7025331790685942
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7020882723226273
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6985891224635743
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6936624828778328
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6918666936278396
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6852525847849198
            }
        },
        "llm_filtered_tables": "transactions_and_payments,customers_loyalty_program,orders,customerInfo"
    },
    {
        "user_raw_query": "Analyze the inventory data to identify products that are frequently restocked but have low sales volume. Specifically, find products that have been restocked more than 5 times in the last year, have a stock turnover rate less than 0.5, and have not been part of any completed orders within the last year. Additionally, include the last updated timestamp, expiry date, and the total quantity sold for each product.",
        "rag_filtered_tables": {
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.7637185768745688
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.7312324918785733
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.7281937709201177
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7203684378548713
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7181181999656332
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7174539229218919
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7135712162937234
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7079796653955704
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.7067241493895255
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6971611046829147
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.6967813191879694
            },
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.6949260234832961
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6947325286109873
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.6924749452583437
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.6758518831465047
            }
        },
        "llm_filtered_tables": "inventory,products,order_items,orders"
    },
    {
        "user_raw_query": "Retrieve the average time spent on the site by customers who clicked on a promotion email and placed an order.",
        "rag_filtered_tables": {
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.7139502593249352
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6980549513134443
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6963111992253352
            },
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.6930307149887281
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.6908019022348405
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.690191809569326
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6828268984349893
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6822298996332081
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6779234833534916
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.6772640751161728
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6737155726128207
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6718220915582337
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6676755549327543
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.664268612432829
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6597952437156777
            }
        },
        "llm_filtered_tables": "events,orders,customerInfo,campaigns"
    },
    {
        "user_raw_query": "List the number of customers grouped by their marital status and average income.",
        "rag_filtered_tables": {
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.728761294114987
            },
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.726809290267191
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.7266618120661961
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.7203338123462261
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.718805229307791
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.7186157200245675
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.7130034094164135
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7096688651249289
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.707623727492792
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.7069831984003264
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7061665164082993
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7059099218523273
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7036644109879719
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.7033051141036029
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6994179783517169
            }
        },
        "llm_filtered_tables": "customerInfo"
    },
    {
        "user_raw_query": "Retrieve the total discounted price and the estimated delivery date for all items in the cart that are also available in the products table.",
        "rag_filtered_tables": {
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7357303657692466
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7354544839533973
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7286262512207083
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.7180587053299001
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.7146364620544647
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.7128016736268526
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7046623019974766
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.7025343953052536
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7012582003320349
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.6983275773134735
            },
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.6980231348234782
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6976964681654193
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.6932567127637014
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6913293372000053
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.6640383005142259
            }
        },
        "llm_filtered_tables": "cart,products"
    },
    {
        "user_raw_query": "Find the total loyalty points earned by customers who have made transactions in the last month and have an anniversary reward voucher status of true",
        "rag_filtered_tables": {
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.7627679392376072
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.703159156724142
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6928368210792542
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6920351798555374
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.6892882770724144
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.6832269633778028
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6804959774017334
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6791357398033142
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6783390832937323
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.6777466343490276
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.6750760868146379
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6744961939601959
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6664371490478516
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6653512317360963
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6619863308660001
            }
        },
        "llm_filtered_tables": "customers_loyalty_program,transactions_and_payments,customerInfo,orders"
    },
    {
        "user_raw_query": "Find the number of events where the event type is 'ORDER_COMPLETION' and the device platform is 'ANDROID', and the customer has also left a review with 5 stars. Then, group these events by the event timestamp and find the total number of such events for each group. Finally, find the top 5 results with the highest total number of events.",
        "rag_filtered_tables": {
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.7423025523243827
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.7165204882621765
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.7083144399021402
            },
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7082715630531311
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7032617749727843
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.6999937534324878
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6993034511181846
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.6961047234472809
            },
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.6952828532120213
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6951037645339966
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6873250808514682
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6831612994170976
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.6818056296226019
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6815289258956909
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.6803698945265958
            }
        },
        "llm_filtered_tables": "events,product_reviews_and_ratings,customerInfo,orders,order_items"
    },
    {
        "user_raw_query": "Find all users who have 'free shipping eligibility' as true and also have products in the wishlist which are currently out of stock.",
        "rag_filtered_tables": {
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7384675273539293
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7179323144413968
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7169525544530334
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7079239213239925
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.7070976568039155
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7037854857061294
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.7005807639553034
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.6995013623389541
            },
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.6986635147728941
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.6903085935483882
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.6865489331600555
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.685075047923644
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.6824240305929414
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6771513434829122
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6748753212057943
            }
        },
        "llm_filtered_tables": "customers_loyalty_program,wishlist,inventory,customerInfo"
    },
    {
        "user_raw_query": "Find the total shipping costs and the estimated delivery dates for orders that were part of successful campaigns (ROI > 100%) and had at least one item that was part of a refund request. Include the campaign name, shipping carrier, and the total price of items in the order.",
        "rag_filtered_tables": {
            "shipping": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_order_id INT NOT NULL,\n    shipping_address TEXT NOT NULL,\n    shipping_city VARCHAR(100) NOT NULL,\n    shipping_state VARCHAR(100) NOT NULL,\n    shipping_zipcode VARCHAR(20) NOT NULL,\n    shipping_country VARCHAR(100) NOT NULL,\n    shipping_status VARCHAR(50) CHECK (shipping_status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),\n    tracking_number VARCHAR(255) UNIQUE,\n    estimated_delivery DATE,\n    shipped_date TIMESTAMP,\n    carrier VARCHAR(100),\n    shipping_cost DECIMAL(10,2) CHECK (shipping_cost >= 0),\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7524631471909982
            },
            "orders": {
                "schema": "order_id SERIAL PRIMARY KEY,\n    person_customer_id INT NOT NULL,\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    shipping_date TIMESTAMP,\n    delivery_date TIMESTAMP,\n    order_status VARCHAR(50),\n    total_amount NUMERIC(10,2) NOT NULL,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    payment_status VARCHAR(50),\n    payment_method VARCHAR(50),\n    tracking_number VARCHAR(50) UNIQUE,\n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_postalcode VARCHAR(20),\n    special_instructions TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  \n    campaign_id INT,\n\n    CONSTRAINT fk_orders_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,  \n    CONSTRAINT fk_orders_campaign FOREIGN KEY (campaign_id) REFERENCES campaigns(campaign_id) ON DELETE SET NULL",
                "score": 0.7311307249484118
            },
            "campaigns": {
                "schema": "campaign_id SERIAL PRIMARY KEY,\n    campaign_name VARCHAR(255) NOT NULL,\n    campaign_type VARCHAR(50) NOT NULL,\n    campaign_status VARCHAR(20),\n    start_date TIMESTAMP NOT NULL,\n    end_date TIMESTAMP NOT NULL,\n    budget NUMERIC(12,2),\n    actual_spent NUMERIC(12,2) DEFAULT 0.00,\n    target_audience VARCHAR(255), \n    total_reach INT DEFAULT 0, \n    impressions INT DEFAULT 0, \n    clicks INT DEFAULT 0, \n    conversions INT DEFAULT 0, \n    revenue_generated NUMERIC(12,2) DEFAULT 0.00,\n    discount_code VARCHAR(50), \n    discount_value NUMERIC(10,2), \n    email_open_rate DECIMAL(5,2) , \n    email_click_through_rate DECIMAL(5,2) , \n    cost_per_acquisition NUMERIC(10,2) DEFAULT 0.00, \n    roi DECIMAL(10,2) GENERATED ALWAYS AS ((revenue_generated - actual_spent) / NULLIF(actual_spent, 0) * 100) STORED",
                "score": 0.7270377278327994
            },
            "order_items": {
                "schema": "order_item_id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    product_name VARCHAR(255) NOT NULL,\n    quantity INT,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2) GENERATED ALWAYS AS (quantity * price_per_unit) STORED,\n    item_status VARCHAR(50),\n    warranty_period INT,\n    return_period INT,\n    is_returnable BOOLEAN DEFAULT TRUE,\n    is_replacement_available BOOLEAN DEFAULT FALSE,\n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    item_weight NUMERIC(10,2), \n    item_dimensions VARCHAR(100), \n    manufacturer VARCHAR(255),\n\n    CONSTRAINT fk_order_items_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE",
                "score": 0.7159485905078526
            },
            "refunds_returns": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_order_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    reason TEXT NOT NULL,\n    status VARCHAR(50) CHECK (status IN ('Pending', 'Approved', 'Rejected', 'Processed')),\n    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    processed_date TIMESTAMP,  \n    refund_amount DECIMAL(10,2),  \n    refund_method VARCHAR(50) CHECK (refund_method IN ('Original Payment Method', 'Store Credit', 'Bank Transfer')),  \n    return_type VARCHAR(50) CHECK (return_type IN ('Full Return', 'Partial Return', 'Exchange')),  \n    tracking_number VARCHAR(255),  \n    shipping_carrier VARCHAR(255),  \n    restocking_fee DECIMAL(10,2) DEFAULT 0.00,  \n    return_condition VARCHAR(50) CHECK (return_condition IN ('New', 'Used', 'Damaged', 'Defective')),  \n    customer_notes TEXT,  \n    admin_notes TEXT,  \n    refund_status VARCHAR(50) CHECK (refund_status IN ('Initiated', 'In Progress', 'Completed', 'Failed')),  \n    return_label_url TEXT,  \n    is_refundable BOOLEAN DEFAULT TRUE,  \n    refund_initiated_by VARCHAR(50) CHECK (refund_initiated_by IN ('Customer', 'Admin', 'System')),  \n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_order_id) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.7105419463242273
            },
            "transactions_and_payments": {
                "schema": "transaction_unique_identifier SERIAL PRIMARY KEY,\n    \n    linked_order_reference_identifier INT NOT NULL,\n    corresponding_customer_reference_identifier INT NOT NULL,\n    \n    total_transaction_amount NUMERIC(10,2) NOT NULL,\n    applied_discount_value NUMERIC(10,2) DEFAULT 0.00,\n    final_billed_amount NUMERIC(10,2) NOT NULL,\n    \n    transaction_status VARCHAR(50),\n    transaction_date_and_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    \n    payment_method_used VARCHAR(50),\n    payment_gateway_used VARCHAR(100),\n    transaction_authorization_code VARCHAR(100),\n    \n    billing_address_street VARCHAR(255),\n    billing_address_city VARCHAR(100),\n    billing_address_state VARCHAR(100),\n    billing_address_country VARCHAR(100),\n    billing_address_zip_code VARCHAR(20),\n    \n    shipping_address_street VARCHAR(255),\n    shipping_address_city VARCHAR(100),\n    shipping_address_state VARCHAR(100),\n    shipping_address_country VARCHAR(100),\n    shipping_address_zip_code VARCHAR(20),\n    \n    transaction_currency_code VARCHAR(10) DEFAULT 'USD',\n    foreign_exchange_conversion_rate DECIMAL(10,4),\n    \n    refund_status BOOLEAN DEFAULT FALSE,\n    refund_initiation_date TIMESTAMP,\n    refund_amount NUMERIC(10,2),\n    \n    chargeback_request_status BOOLEAN DEFAULT FALSE,\n    chargeback_dispute_reason TEXT,\n    chargeback_resolution_status VARCHAR(50),\n    \n    associated_loyalty_points_earned INT DEFAULT 0,\n    gift_card_or_store_credit_usage BOOLEAN DEFAULT FALSE,\n    applied_gift_card_code VARCHAR(50),\n    \n    recurring_billing_flag BOOLEAN DEFAULT FALSE,\n    installment_payment_status BOOLEAN DEFAULT FALSE,\n    \n    first_time_customer_transaction BOOLEAN DEFAULT FALSE,\n    transaction_frequency_category VARCHAR(50),\n    \n    digital_wallet_used VARCHAR(50),\n    cryptocurrency_payment_flag BOOLEAN DEFAULT FALSE,\n    cryptocurrency_type VARCHAR(50),\n    \n    alternative_payment_method_used VARCHAR(50),\n    \n    promotional_offer_applied BOOLEAN DEFAULT FALSE,\n    special_financing_option_used BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_on_transaction TEXT,\n    transaction_review_score DECIMAL(3,2),\n    \n    is_transaction_fraudulent BOOLEAN DEFAULT FALSE,\n    fraud_detection_flagged BOOLEAN DEFAULT FALSE,\n    fraud_detection_notes TEXT,\n    \n    FOREIGN KEY (linked_order_reference_identifier) REFERENCES orders(order_id) ON DELETE CASCADE,\n    FOREIGN KEY (corresponding_customer_reference_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.7041970348651763
            },
            "cart": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    quantity INT NOT NULL DEFAULT 1,\n    price_per_unit NUMERIC(10,2) NOT NULL,\n    total_price NUMERIC(10,2),  \n    discount_applied NUMERIC(10,2) DEFAULT 0.00,\n    coupon_code VARCHAR(50),\n    discounted_total_price NUMERIC(10,2),  \n    cart_status VARCHAR(20) DEFAULT 'active',\n    session_id VARCHAR(255),\n    last_activity_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    tax_amount NUMERIC(10,2) DEFAULT 0.00,\n    shipping_fee NUMERIC(10,2) DEFAULT 0.00,\n    estimated_delivery_date DATE,\n    is_gift BOOLEAN DEFAULT FALSE,\n    gift_message TEXT,\n    recommended_products JSON,\n    wishlist_flag BOOLEAN DEFAULT FALSE,\n    abandonment_reason VARCHAR(255),\n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6971648570495673
            },
            "events": {
                "schema": "event_id SERIAL PRIMARY KEY,\n    person_customer_id INT,  \n    order_id INT,            \n    order_item_id INT,       \n    \n    event_type VARCHAR(50) NOT NULL,\n    \n    device_platform VARCHAR(20),\n    device_type VARCHAR(50),  \n    device_browser VARCHAR(100), \n    device_os VARCHAR(50),  \n    device_app_version VARCHAR(20), \n    device_ip_address VARCHAR(45),  \n    location_city VARCHAR(100),\n    location_country VARCHAR(100),\n    session_id VARCHAR(255), \n    referral_source VARCHAR(255), \n    utm_campaign VARCHAR(255), \n    event_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    \n    page_url TEXT, \n    time_spent_seconds INT, \n    click_count INT DEFAULT 0, \n    scroll_depth_percentage INT, \n    \n    \n    cart_value NUMERIC(10,2), \n    payment_method VARCHAR(50),\n    discount_applied NUMERIC(10,2) DEFAULT 0.00, \n\n    \n    support_ticket_id VARCHAR(50), \n    review_rating INT, \n    review_comment TEXT, \n    return_reason VARCHAR(255), \n    \n    \n    email_opened BOOLEAN DEFAULT FALSE, \n    push_notification_clicked BOOLEAN DEFAULT FALSE, \n    coupon_code_used VARCHAR(50), \n    survey_completed BOOLEAN DEFAULT FALSE, \n\n    event_metadata TEXT,  \n\n    \n    CONSTRAINT fk_events_customer FOREIGN KEY (person_customer_id) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL,\n    CONSTRAINT fk_events_order_item FOREIGN KEY (order_item_id) REFERENCES order_items(order_item_id) ON DELETE SET NULL",
                "score": 0.6955930590629628
            },
            "product_reviews_and_ratings": {
                "schema": "review_unique_identifier SERIAL PRIMARY KEY,\n    \n    referenced_product_identifier INT NOT NULL,\n    reviewing_customer_identifier INT NOT NULL,\n    \n    customer_review_submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    textual_review_feedback TEXT,\n    submitted_review_star_rating DECIMAL(3,2) DEFAULT 0.00,\n    \n    verification_status_of_reviewer BOOLEAN DEFAULT FALSE,\n    number_of_helpful_votes_received INT DEFAULT 0,\n    flagged_as_inappropriate BOOLEAN DEFAULT FALSE,\n    \n    contains_multimedia_content BOOLEAN DEFAULT FALSE,\n    associated_review_image_urls TEXT,\n    associated_review_video_links TEXT,\n    \n    sentiment_analysis_score DECIMAL(5,2),\n    keywords_extracted_from_review TEXT,\n    length_of_review_in_characters INT,\n    \n    previous_product_purchases_count INT DEFAULT 0,\n    return_request_status BOOLEAN DEFAULT FALSE,\n    \n    response_from_brand_or_seller TEXT,\n    response_submission_date TIMESTAMP,\n    \n    additional_comments_by_other_users JSON,\n    user_has_edited_review BOOLEAN DEFAULT FALSE,\n    \n    total_number_of_edits_made INT DEFAULT 0,\n    review_approval_moderation_status VARCHAR(50),\n    review_moderator_notes TEXT,\n    \n    FOREIGN KEY (referenced_product_identifier) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (reviewing_customer_identifier) REFERENCES customerInfo(person_customer_id) ON DELETE SET NULL",
                "score": 0.6929111893720156
            },
            "suppliers": {
                "schema": "supplier_unique_identifier SERIAL PRIMARY KEY,\n    \n    official_supplier_business_name VARCHAR(255) NOT NULL,\n    registered_business_address VARCHAR(255),\n    primary_contact_person_name VARCHAR(255),\n    primary_contact_phone_number VARCHAR(20),\n    primary_contact_email_address VARCHAR(255) UNIQUE,\n    supplier_country_of_operation VARCHAR(100),\n    supplier_tax_identification_number VARCHAR(50),\n    preferred_payment_terms_description TEXT,\n    total_number_of_products_supplied INT DEFAULT 0,\n    average_supplier_rating DECIMAL(3,2) DEFAULT 0.0",
                "score": 0.6909987926483203
            },
            "customers_loyalty_program": {
                "schema": "loyalty_membership_unique_identifier SERIAL PRIMARY KEY,\n    \n    associated_customer_reference_id INT NOT NULL,\n    loyalty_program_tier_level VARCHAR(50),\n    accumulated_loyalty_points_balance INT DEFAULT 0,\n    last_loyalty_point_update_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    eligible_for_special_promotions BOOLEAN DEFAULT FALSE,\n    \n    initial_enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_loyalty_tier_upgrade_date TIMESTAMP,\n    next_loyalty_tier_evaluation_date TIMESTAMP,\n    expiration_date_of_loyalty_points TIMESTAMP,\n    \n    total_discount_amount_redeemed NUMERIC(10,2) DEFAULT 0.00,\n    lifetime_loyalty_points_earned INT DEFAULT 0,\n    lifetime_loyalty_points_redeemed INT DEFAULT 0,\n    \n    exclusive_coupon_codes_assigned TEXT,\n    customer_birthday_special_discount BOOLEAN DEFAULT FALSE,\n    personalized_product_recommendations JSON,\n    \n    annual_loyalty_spending_threshold NUMERIC(10,2),\n    free_shipping_eligibility BOOLEAN DEFAULT FALSE,\n    anniversary_reward_voucher_status BOOLEAN DEFAULT FALSE,\n    \n    customer_feedback_engagement_score DECIMAL(5,2),\n    bonus_loyalty_points_last_month INT DEFAULT 0,\n    \n    referral_bonus_points_earned INT DEFAULT 0,\n    referred_friends_count INT DEFAULT 0,\n    \n    extra_reward_credits_from_surveys INT DEFAULT 0,\n    special_event_invitation_status BOOLEAN DEFAULT FALSE,\n    \n    redemption_activity_log JSON,\n    last_redemption_date TIMESTAMP,\n    \n    preferred_communication_channel VARCHAR(50),\n    participation_in_exclusive_beta_testing BOOLEAN DEFAULT FALSE,\n    exclusive_member_early_access BOOLEAN DEFAULT FALSE,\n    \n    FOREIGN KEY (associated_customer_reference_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE",
                "score": 0.6890782303167554
            },
            "products": {
                "schema": "unique_product_identifier SERIAL PRIMARY KEY,\n    \n    product_display_name VARCHAR(255) NOT NULL,\n    detailed_product_description TEXT,\n    product_category_primary VARCHAR(100) NOT NULL,\n    product_category_secondary VARCHAR(100),\n    global_brand_affiliation VARCHAR(100),\n    model_identification_code VARCHAR(100),\n    stock_keeping_unit_identifier VARCHAR(50) UNIQUE,\n    universal_product_code VARCHAR(50) UNIQUE, \n    european_article_number VARCHAR(50) UNIQUE, \n    international_standard_book_number VARCHAR(50) UNIQUE, \n    \n    standard_retail_price_including_tax NUMERIC(10,2) NOT NULL,\n    promotional_discounted_price NUMERIC(10,2),\n    percentage_discount_applied DECIMAL(5,2),\n    applicable_value_added_tax DECIMAL(5,2),\n    currency_of_transaction VARCHAR(10) DEFAULT 'USD',\n    \n    available_stock_quantity_in_units INT NOT NULL,\n    minimum_threshold_for_restocking INT,\n    estimated_replenishment_date DATE,\n    associated_supplier_reference_id INT, \n    warehouse_storage_location_details VARCHAR(255),\n    production_batch_identifier VARCHAR(100),\n    \n    net_weight_in_kilograms DECIMAL(10,3),\n    physical_length_in_centimeters DECIMAL(10,2),\n    physical_width_in_centimeters DECIMAL(10,2),\n    physical_height_in_centimeters DECIMAL(10,2),\n    volumetric_measurement_in_liters DECIMAL(10,2),\n    \n    predominant_color_description VARCHAR(50),\n    designated_size_variation VARCHAR(50),\n    primary_material_composition VARCHAR(100),\n    stylistic_representation VARCHAR(100),\n    intended_user_demographic VARCHAR(20),\n    \n    estimated_battery_backup_duration VARCHAR(50),\n    energy_consumption_rating VARCHAR(50),\n    supported_connectivity_protocols VARCHAR(100),\n    embedded_processor_specifications VARCHAR(100),\n    integrated_memory_configuration VARCHAR(50),\n    total_storage_capacity_details VARCHAR(50),\n    \n    indexed_search_keywords_for_product TEXT,\n    optimized_meta_title_for_seo VARCHAR(255),\n    search_engine_meta_description TEXT,\n    product_demonstration_video_link TEXT,\n    featured_product_flag BOOLEAN DEFAULT FALSE,\n    \n    aggregate_customer_review_rating DECIMAL(3,2) DEFAULT 0.0,\n    total_number_of_verified_reviews INT DEFAULT 0,\n    standard_warranty_duration VARCHAR(50),\n    comprehensive_return_policy_description TEXT,\n    \n    shipping_weight_measurement_in_kilograms DECIMAL(10,3),\n    fragile_item_indicator BOOLEAN DEFAULT FALSE,\n    perishable_product_flag BOOLEAN DEFAULT FALSE,\n    expected_lead_time_in_business_days INT,\n    \n    active_product_status BOOLEAN DEFAULT TRUE,\n    official_product_release_date DATE,\n    official_product_discontinuation_date DATE,\n    \n    legal_manufacturer_entity_name VARCHAR(255),\n    country_of_product_origin VARCHAR(100),\n    estimated_production_cost_per_unit NUMERIC(10,2),\n    \n    certified_regulatory_compliance_details TEXT,\n    environmentally_sustainable_product BOOLEAN DEFAULT FALSE,\n    applicable_warranty_coverage_type VARCHAR(50),\n    \n    CONSTRAINT fk_products_supplier FOREIGN KEY (associated_supplier_reference_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6878440007977487
            },
            "inventory": {
                "schema": "id SERIAL PRIMARY KEY,\n    referenced_product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    warehouse_location VARCHAR(255),\n    stock_threshold INT DEFAULT 10,\n    safety_stock INT DEFAULT 5,\n    supplier_id INT,\n    last_restock_date TIMESTAMP,\n    expected_restock_date TIMESTAMP,\n    purchase_price NUMERIC(10,2),\n    bulk_discount NUMERIC(10,2) DEFAULT 0.00,\n    storage_temperature VARCHAR(50),\n    shelf_life INT,\n    batch_number VARCHAR(50),\n    expiry_date DATE,\n    stock_status VARCHAR(50) DEFAULT 'Available',\n    last_inventory_audit_date TIMESTAMP,\n    inventory_adjustment_reason TEXT,\n    damaged_stock INT DEFAULT 0,\n    inbound_shipment_tracking VARCHAR(100),\n    outbound_shipment_tracking VARCHAR(100),\n    inventory_turnover_rate DECIMAL(10,2) GENERATED ALWAYS AS \n        (quantity / NULLIF(safety_stock, 0)) STORED,\n    last_sold_date TIMESTAMP,\n    FOREIGN KEY (referenced_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_unique_identifier) ON DELETE SET NULL",
                "score": 0.6862432769681989
            },
            "wishlist": {
                "schema": "id SERIAL PRIMARY KEY,\n    fk_user_id INT NOT NULL,\n    fk_product_id INT NOT NULL,\n    product_name VARCHAR(255),  \n    price_at_addition DECIMAL(10,2),  \n    discount_at_addition DECIMAL(10,2),  \n    wishlist_status wishlist_status_enum DEFAULT 'active',  \n    priority_level priority_level_enum DEFAULT 'medium',  \n    expected_purchase_date DATE,  \n    quantity INT DEFAULT 1,  \n    notes TEXT,  \n    reminder_set BOOLEAN DEFAULT FALSE,  \n    reminder_date TIMESTAMP,  \n    last_viewed_at TIMESTAMP,  \n    added_from_source added_from_source_enum,  \n    stock_status_at_addition BOOLEAN DEFAULT TRUE,  \n    category VARCHAR(255),  \n    brand_name VARCHAR(255),  \n    session_id VARCHAR(255),  \n    currency VARCHAR(10) DEFAULT 'USD',  \n    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (fk_user_id) REFERENCES customerInfo(person_customer_id) ON DELETE CASCADE,\n    FOREIGN KEY (fk_product_id) REFERENCES products(unique_product_identifier) ON DELETE CASCADE",
                "score": 0.6797192704426593
            },
            "customerInfo": {
                "schema": "person_customer_id SERIAL PRIMARY KEY,\n    person_first_name VARCHAR(50) NOT NULL,\n    person_last_name VARCHAR(50) NOT NULL,\n    person_email VARCHAR(255) UNIQUE NOT NULL,\n    person_phone_number VARCHAR(20),\n    person_date_of_birth DATE,\n    person_gender CHAR(1),\n    person_registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    person_last_login TIMESTAMP,\n    person_is_premium BOOLEAN DEFAULT FALSE,\n    person_loyalty_points INT DEFAULT 0,\n    person_preferred_language VARCHAR(20),\n    person_occupation VARCHAR(100),\n    person_income NUMERIC(10,2),\n    person_marital_status VARCHAR(20),\n    \n    \n    address_street VARCHAR(255),\n    address_city VARCHAR(100),\n    address_state VARCHAR(100),\n    address_country VARCHAR(100),\n    address_postalcode VARCHAR(20),\n\n    \n    account_account_balance NUMERIC(12,2) DEFAULT 0.00,\n    account_preferred_payment_method VARCHAR(50),\n    account_card_last_four VARCHAR(4),\n    account_card_expiry DATE,\n    account_has_active_subscription BOOLEAN DEFAULT FALSE,\n\n    \n    preferences_favorite_category VARCHAR(100),\n    preferences_avg_spent_per_order NUMERIC(10,2),\n    preferences_total_orders INT DEFAULT 0,\n    preferences_last_order_date TIMESTAMP,\n    preferences_wishlist_items INT DEFAULT 0,\n    preferences_newsletter_subscription BOOLEAN DEFAULT TRUE,\n    preferences_referral_code VARCHAR(20),\n\n    \n    securitypassword_hash TEXT NOT NULL,\n    security_question VARCHAR(255),\n    security_answer_hash TEXT,\n    securitytwo_factor_enabled BOOLEAN DEFAULT FALSE,\n    securitysms_notifications BOOLEAN DEFAULT TRUE,\n    securityemail_notifications BOOLEAN DEFAULT TRUE,\n    security_account_status VARCHAR(20)",
                "score": 0.6684586606572462
            }
        },
        "llm_filtered_tables": "shipping,orders,campaigns,refunds_returns,order_items"
    }
]